(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{380:function(s,a,t){"use strict";t.r(a);var e=t(14),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"linux概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux概述"}},[s._v("#")]),s._v(" Linux概述")]),s._v(" "),t("p",[s._v("在我看来，Linux是一个对软件开发非常友好的操作系统。它去除了很多windows下的杂质，保留了非常干净的系统。Mac系统也是与它有很多相似的地方，才这样好用。")]),s._v(" "),t("p"),s._v(" "),t("h2",{attrs:{id:"下载与安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载与安装"}},[s._v("#")]),s._v(" 下载与安装")]),s._v(" "),t("p",[s._v("​       以linux为内核的有Ubuntu，Debian、Centos，操作方式大同小异")]),s._v(" "),t("p",[s._v("​       因为linux是开源系统，所以在百度或者谷歌直接搜索ubuntu16.0，就能找到安装包。安装的时候找阿里镜像源，会下载的快一些。")]),s._v(" "),t("h2",{attrs:{id:"修改镜像源和网络"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改镜像源和网络"}},[s._v("#")]),s._v(" 修改镜像源和网络")]),s._v(" "),t("p",[s._v("清华大学镜像源网站：https://mirrors.tuna.tsinghua.edu.cn/")]),s._v(" "),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),t("p",[s._v("查看进程")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-elf")]),s._v("\n")])])]),t("p",[s._v("查看端口状态")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -i:端口号\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看tcp udp端口和进程等情况")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-tunlp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" 端口号\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ntlp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看当前所有tcp端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ntulp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看所有80端口使用情况")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##只显示监听端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 只列出所有监听TCP端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lu")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 只列出所有监听UDP端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lx")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 只列出所有监听UNIX端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-pt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 在netstat输出中显示PIC和进程名称")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-an")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("':80'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##找出运行在指定端口的进程")]),s._v("\n")])])]),t("p",[s._v("服务器常用端口")]),s._v(" "),t("p",[s._v("21 ftp ftp服务器所开放的端口，用于上传下载")]),s._v(" "),t("p",[s._v("22 ssh 22端口就是ssh端口，用于通过命令行模式远程连接Linux系统的服务器")]),s._v(" "),t("p",[s._v("25 SMTP SMTP服务器所开放的端口，用于发送邮件")]),s._v(" "),t("p",[s._v("80 HTTP 用于网站服务例如IIS、Apache、Nginx等提供对外访问")]),s._v(" "),t("p",[s._v("113 POP3 110端口是为POP3服务开放的")]),s._v(" "),t("p",[s._v("143 IMAP 143端口主页用于Internet Message")]),s._v(" "),t("p",[s._v("443 HTTPS 网页浏览端口，能提供加密和通过安全端口传输的另一种HTTP")]),s._v(" "),t("p",[s._v("3306 MySQL  3306端口是MySQL数据库的默认端口，用于MySQL对外提供服务")]),s._v(" "),t("p",[s._v("8080 代理端口 8080端口同80端口，是被用于www代理服务的，可以实现网页浏览，经常在访问某个网站或使用代理服务器时会加上8080端口，此外Apache Tomcat web server默认服务端口就是8080")]),s._v(" "),t("p",[s._v("清除端口进程")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("信号"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" PID//pid号\n")])])]),t("p",[s._v("kill信号")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -0:程序退出时收到该信息\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -1:挂掉电话线或者终端连接的挂起信号，这个信号也会造成某些进程在没有终止的情况下重新初始化\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -2:表示结束进程，但不是强制性的，常用的ctrl+c就是发出一个kill -2命令\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -3:退出\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9:杀死进程，即强制结束进程，有可能会导致程序崩溃等\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -11:段错误\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -15:正常结束进程，是kill命令段默认信号\n")])])]),t("p",[s._v("删除文件/文件夹")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" filename\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" filename\n")])])]),t("p",[s._v("set")]),s._v(" "),t("p",[s._v("set命令用于设置shell")]),s._v(" "),t("p",[s._v("关机/重启")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 立即关机")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" now\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 10分钟后关机")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 立刻关机")]),s._v("\npower off\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 重启")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 重启")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" now\n")])])]),t("p",[s._v("传输文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 从服务器上下载文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" username@servernama:/path/filename /var/www/local_dir\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 上传文件到服务器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /path/filename username@servernama:/path\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 下载目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" username@servernama:/path/ /var/www/local_dir\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 上传目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" /var/www/local_dir username@servernama:/path\n")])])]),t("p",[s._v("修改文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/properties/property/g'")]),s._v(" build.xml\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 批量替换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ilr")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'log('")]),s._v(" *"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("xargs-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("@ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"'s/print(///Log(/g'@\n## \nsed -i \"")]),s._v("s/hello/hi/g"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\" test.txt\n## 删除行首空格\nsed -i 's/^ //g'test\n## 删除行尾空格\nsed -i 's/$//g' test\n## 替换当前目录中所有含有hello字符的文件中的hello为hi\nsed -i \"")]),s._v('s/hello/hi/g" '),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rl")]),s._v(" ./"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 批量操作当前目录以m开头的文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/foo/bar/g'")]),s._v(" ./m*\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查找所有子目录中m开头的文件并进行替换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/foo/bar/g'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" foo "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--include")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"m*"')]),s._v(" ./"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])])]),t("h3",{attrs:{id:"systemd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#systemd"}},[s._v("#")]),s._v(" systemd")]),s._v(" "),t("p",[s._v("历史上，linux的启动一直采用init进程")]),s._v(" "),t("p",[s._v("init进程有两个缺点：")]),s._v(" "),t("p",[s._v("启动时间长、启动脚本复杂")]),s._v(" "),t("p",[s._v("systemd就是为解决这个问题而生的，d是守护进程daemon的缩写。")]),s._v(" "),t("p",[s._v("systemd取代了initd，成为了系统的第一个进程（pid等于1），其他进程都是它的子进程")]),s._v(" "),t("p",[s._v("systemd的优点是功能强大，使用方便，缺点是体系庞大，非常复杂")]),s._v(" "),t("p",[s._v("systemd的常用命令")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 重启系统")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 关闭系统，切断电源")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl poweroff\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## cpu停止工作")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("halt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 暂停系统")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("suspend")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 让系统进入冬眠状态")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl hibernate\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 让系统进入交互式休眠状态")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl hybrid-sleep\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 启动救援状态")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl rescue\n")])])]),t("p",[s._v("查看本机信息")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看当前主机信息")]),s._v("\nhostnamectl\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 设置主机名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" hostnamectl set-hostname rhel7\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看本地化设置")]),s._v("\nlocalectl\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 设置本地化参数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" localectl set-locale "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en_GB.utf8\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" lccalectl set-keymap en_GB\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看当前登陆的用户")]),s._v("\nloginctl list-users\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 列出当前session")]),s._v("\nloginctl list-sessions\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 列出显示指定用户的信息")]),s._v("\nloginctl show-user ruanyf\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看当前时区设置")]),s._v("\ntimedatectl \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 显示所有可用的时区")]),s._v("\ntimedatectl list-timezones\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 设置当前时区")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" timedatectl set-timezone America/New_York\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" timedatectl set-time YYYY-MM-DD\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" timedatectl set-time HH:MM:SS\n")])])]),t("p",[s._v("查看Unit信息")]),s._v(" "),t("p",[s._v("nohup命令")]),s._v(" "),t("p",[s._v("nohup命令用于在后台不挂断地运行命令，挂起进程，退出终端不会影响程序的运行")]),s._v(" "),t("p",[s._v("nohup命令在默认情况下，也就是非重定向时，会输出一个名叫nohup。out的文件到当前目录，如果当前目录到nohup。out文件不可写，输出到HOME/nohu。pout文件中")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ./nebula-httpd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])])]),t("h4",{attrs:{id:"node应用的systemd启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node应用的systemd启动"}},[s._v("#")]),s._v(" node应用的systemd启动")]),s._v(" "),t("p",[s._v("创建配置文件,后缀为service")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Description")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node simple server\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##启动命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Restart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nobody\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Group")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nobody\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Environment")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/bin:/user/local/bin\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Environment")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NODE_ENV"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("production\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WorkingDirectory")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/tmp/node-systemd-demo\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Install"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WantedBy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("multi-user.target\n")])])]),t("p",[s._v("将配置文件拷贝到systemd之中")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" node-server.service /etc/systemd/system\n")])])]),t("p",[s._v("重载配置文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n")])])]),t("h3",{attrs:{id:"什么命令都不能用了"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么命令都不能用了"}},[s._v("#")]),s._v(" 什么命令都不能用了")]),s._v(" "),t("p",[s._v("环境变量配置错误造成的，输入")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/sbin:usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin\n")])])]),t("p",[s._v("或者手动在/etc/profile中添加此行")]),s._v(" "),t("h2",{attrs:{id:"用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户"}},[s._v("#")]),s._v(" 用户")]),s._v(" "),t("p",[s._v("普通用户可以用sudo")]),s._v(" "),t("p",[s._v("如果提示不再sudoers文件中，在sudoers文件中添加用户")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sudoers\n")])])]),t("p",[s._v("添加语句")]),s._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("username")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("ALL=(ALL)  ALL")]),s._v("\n")])])]),t("h2",{attrs:{id:"连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接"}},[s._v("#")]),s._v(" 连接")]),s._v(" "),t("p",[s._v("linux最重要的用途还是服务器吧，目前绝大多数服务器都是linux系统。centos或者ubuntu、debian，在本地可以远程连接服务器进行操作")]),s._v(" "),t("p",[s._v("通过密码连接服务器")]),s._v(" "),t("p",[s._v("直接输入命令")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ssh 用户名@IP地址 -p 端口号\n")])])]),t("p",[s._v("运行后会要求输入密码，输入即可登录")]),s._v(" "),t("p",[s._v("通过密钥连接服务器")]),s._v(" "),t("p",[s._v("首先在服务器端创建密钥对，下载私钥")]),s._v(" "),t("p",[s._v("将私钥保存在.ssh文件下，如果没有.ssh目录，创建一个")]),s._v(" "),t("div",{staticClass:"language-mac extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd ~\nmkdir .ssh\n")])])]),t("p",[s._v("修改密钥权限")]),s._v(" "),t("div",{staticClass:"language-mac extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd ~/.ssh\nchmod 400 密钥文件名\n")])])]),t("p",[s._v("通过ssh密钥方式连接服务器")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ssh -i ~/.ssh/mac root@192.168.0.1\n")])])]),t("p",[s._v("~/.ssh/mac为下载的私钥的路径和文件名")]),s._v(" "),t("p",[s._v("root是服务器端管理员账号，一般是root")]),s._v(" "),t("p",[s._v("192.168.0.1是服务器的公网ip")]),s._v(" "),t("p",[s._v("终端变成root就说明连接成功")]),s._v(" "),t("p",[s._v("让mac终端始终保持与远程连接状态（Broken pipe）")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo vim /etc/ssh/ssh_config\n")])])]),t("p",[s._v("添加设置")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# 断开时重试连接的次数\nServerAliveCountMax 5\n# 每隔5s发送一个空请求以保持连接\nServerAliveInterval 5\n")])])]),t("h2",{attrs:{id:"快捷键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快捷键"}},[s._v("#")]),s._v(" 快捷键")]),s._v(" "),t("p",[s._v("启动终端：ctrl+alt+T")]),s._v(" "),t("p",[s._v("​        创建目录：mkdir")]),s._v(" "),t("p",[s._v("​        返回上层目录：cd ..")]),s._v(" "),t("p",[s._v("​        停止运行：Ctrl+c")]),s._v(" "),t("p",[s._v("​        关闭终端   Ctrl+alt+Q")]),s._v(" "),t("p",[s._v("​        新建终端   Ctrl+alt+N")]),s._v(" "),t("h2",{attrs:{id:"增加cpu占有率"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加cpu占有率"}},[s._v("#")]),s._v(" 增加CPU占有率")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("seq")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$(")]),s._v("cat/proc/cpuinfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"physical id"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/dev/zero "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("of")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/dev/null "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])])]),t("h2",{attrs:{id:"centos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos"}},[s._v("#")]),s._v(" centos")]),s._v(" "),t("p",[s._v("查找操作系统的内核版本")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v("\n")])])]),t("p",[s._v("更新系统底层的库文件")]),s._v(" "),t("div",{staticClass:"language-centos extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum update\n")])])]),t("h2",{attrs:{id:"vim"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vim"}},[s._v("#")]),s._v(" Vim")]),s._v(" "),t("p",[s._v("vim命令")]),s._v(" "),t("div",{staticClass:"language-vim extra-class"},[t("pre",{pre:!0,attrs:{class:"language-vim"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("w")]),s._v(" 保存文件但不退出"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("vim")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("w")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" 强制保存文件但不退出"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("vim")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wq")]),s._v(" 保存文件并退出"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("vim")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("强制保存文件并退出"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("vim")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("q")]),s._v(" 不保存文件直接退出\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("q")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" 不保存文件强制退出"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("vim")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("e")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" 放弃所有修改，从上次保存文件开始再编辑命令历史\n")])])]),t("h2",{attrs:{id:"linux下软件包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux下软件包"}},[s._v("#")]),s._v(" linux下软件包")]),s._v(" "),t("p",[s._v("linux下应用程序的软件包按"),t("strong",[s._v("内容类别")]),s._v("分为两类：")]),s._v(" "),t("p",[s._v("1.可执行文件(编译后的二进制软件包)")]),s._v(" "),t("p",[s._v("解压包之后就可以直接运行，类似于windows下的软件包，安装完可以直接使用，但是看不到源程序，而且下载时要注意这个软件是否是你所使用的平台，否则无法正常安装，如centos与ubuntu")]),s._v(" "),t("p",[s._v("优点：使用简单，只需要几个命令就能实现软件包的安装、卸载、升级、查询，安装速度快")]),s._v(" "),t("p",[s._v("缺点：不能看源代码，功能选择不如源代码灵活，依赖性")]),s._v(" "),t("p",[s._v("2.源程序(源码包)")]),s._v(" "),t("p",[s._v("解开包之后你还需要使用编译器将其编译为可执行文件，这是linux独有的，windows的思想是不开放源程序")]),s._v(" "),t("p",[s._v("优点：开源，可以自由选择所需功能，可看源码，卸载方便")]),s._v(" "),t("p",[s._v("缺点：安装步骤过多，编译时间过长")]),s._v(" "),t("p",[s._v("二进制软件包与源码包区别：")]),s._v(" "),t("p",[s._v("与直接从源代码安装相比，软件包管理易于安装和卸载，易于更新已安装的软件包，易于保护配置文件，易于跟踪已安装文件")]),s._v(" "),t("p",[s._v("通常用tar打包的都是源程序，用rpm、dpkg打包的则常是可执行程序，一般来说，自己动手打包源程序更具灵活性，但是容易遇到各种问题，而可执行程序包更容易安装，但是灵活性会差很多，所以一般一个软件会提供多种打包格式的安装程序。")]),s._v(" "),t("p",[s._v("linux下应用程序的软件包按"),t("strong",[s._v("格式")]),s._v("分类：")]),s._v(" "),t("p",[s._v("linux下的软件安装包主要有rpm、deb、tar.gz三种格式")]),s._v(" "),t("p",[s._v("软件后缀为.rpm最初是Red Hat Linux提供的一种包封装格式，rpm较deb发行早，所以现在许多linux发行版本都使用。rpm包本质就是一个可以在特定机器上运行的Linux软件，可以在红帽Linux、Suse、Fedora直接进行安装，但在Ubuntu上无法识别")]),s._v(" "),t("p",[s._v("软件后缀为.deb是Debian linux提供的包封装格式。deb的包管理器dpkg只在debian上有，ubuntu也支持，可以在ubuntu上进行安装")]),s._v(" "),t("p",[s._v("软件后缀.tar.gz、tar.Z、tar.bz2、.tgz是使用unix系统打包工具tar打包的。tar包在所有Linux版本中都能运行，但是安装过程也最麻烦，tar包就是一个压缩包，是为了便于传输所产生的一种专门用于网络流通的文件格式，tar包与deb、rpm包相比，tar包不一定是软件，也可能是图片、文本等等")]),s._v(" "),t("p",[s._v("软件后缀为.bin的一般是一些商业软件")]),s._v(" "),t("h3",{attrs:{id:"安装方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装方法"}},[s._v("#")]),s._v(" 安装方法")]),s._v(" "),t("p",[s._v("rpm包：")]),s._v(" "),t("p",[s._v("查询系统中所有的rpm包")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查询所有包含某个字符串sql的软件包")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" sql\n")])])]),t("p",[s._v("安装")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" your-package.rpm\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 强制安装")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--force")]),s._v(" your-package.rpm\n")])])]),t("p",[s._v("卸载（后缀不能包含rpm）")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" your-package\n")])])]),t("p",[s._v("升级软件包")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Uvh")]),s._v(" your-package.rpm\n")])])]),t("p",[s._v("安装rpm-build")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum list "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" rpm-build\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" rpm-build.x86_64\n")])])]),t("p",[s._v("tar包：")]),s._v(" "),t("h3",{attrs:{id:"下载方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载方法"}},[s._v("#")]),s._v(" 下载方法")]),s._v(" "),t("p",[s._v("wget可以下载整个页面和文件")]),s._v(" "),t("p",[s._v("wget会遵守robots.txt文件。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("robots")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("off http://www.example.com\n")])])]),t("h3",{attrs:{id:"安装cmake"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装cmake"}},[s._v("#")]),s._v(" 安装cmake")]),s._v(" "),t("p",[s._v("准备编译环境")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc gcc-c++\n")])])]),t("p",[s._v("获取源码并解压")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/Kitware/CMake/releases/download/3.15.5/cmake-3.15.5.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 备用下载地址 https://down.24kplus.com/linux/cmake/cmake-3.15.5.tar.gz")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zxf")]),s._v(" cmake-3.15.5.tar.gz\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" cmake-3.15.5\n")])])]),t("p",[s._v("编译安装")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("./bootstrap "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--datadir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("share/cmake "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--docdir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("doc/cmake "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),t("p",[s._v("验证安装")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("cmake "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n")])])]),t("h3",{attrs:{id:"rpm-build"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rpm-build"}},[s._v("#")]),s._v(" rpm-build")]),s._v(" "),t("p",[s._v("如果你想打包rpm包，可能还需要rpm-build包")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" rpm-build \n")])])]),t("h2",{attrs:{id:"selinux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#selinux"}},[s._v("#")]),s._v(" Selinux")]),s._v(" "),t("p",[s._v("安全增强型 Linux（SELinux）是一种采用安全架构的 "),t("a",{attrs:{href:"https://www.redhat.com/zh/topics/linux/what-is-linux",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux® 系统"),t("OutboundLink")],1),s._v("，它能够让管理员更好地管控哪些人可以访问系统。它最初是作为 "),t("a",{attrs:{href:"https://www.redhat.com/zh/topics/linux/what-is-the-linux-kernel",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux 内核"),t("OutboundLink")],1),s._v("的一系列补丁，由美国国家安全局（NSA）利用 Linux 安全模块（LSM）开发而成。")]),s._v(" "),t("p",[s._v("SELinux 于 2000 年发布到开源社区，并于 2003 年集成到上游 Linux 内核中。")]),s._v(" "),t("p",[s._v("SELinux 定义了每个人对系统上的应用、进程和文件的访问权限。它利用安全策略（一组告知 SELinux 哪些能访问，哪些不能访问的规则）来强制执行策略所允许的访问。")]),s._v(" "),t("p",[s._v("当应用或进程（称为主体）发出访问对象（如文件）的请求时，SELinux 会检查访问向量缓存（AVC），其中缓存有主体和对象的访问权限。")]),s._v(" "),t("p",[s._v("查看selinux状态")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 命令1")]),s._v("\n/usr/sbin/sestatus "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## SELinux status:                 enabled")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 命令2")]),s._v("\ngetenforce\n")])])]),t("p",[s._v("临时关闭")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("setenforce "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##设置SELinux 成为permissive模式")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##setenforce 1 设置SELinux 成为enforcing模式")]),s._v("\n")])])]),t("p",[s._v("也可以修改/etc/selinux/config 文件")]),s._v(" "),t("p",[s._v("将SELINUX=enforcing改为SELINUX=disabled")]),s._v(" "),t("h2",{attrs:{id:"firewalld和utf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#firewalld和utf"}},[s._v("#")]),s._v(" firewalld和utf")]),s._v(" "),t("h3",{attrs:{id:"全局端口转发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局端口转发"}},[s._v("#")]),s._v(" 全局端口转发")]),s._v(" "),t("p",[s._v("iptables 是一个配置 Linux 内核 防火墙 的命令行工具，是 netfilter 项目的一部分。\n术语 iptables 也经常代指该内核级防火墙。\niptables 用于 ipv4，ip6tables 用于 ipv6。\n需要root账户执行以下操作")]),s._v(" "),t("p",[s._v("开启iptables")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/proc/sys/net/ipv4/ip_forward\n")])])]),t("p",[s._v("默认值0是禁止ip转发，修改为1即开启ip转发功能。")]),s._v(" "),t("p",[s._v("简单转发")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-- 把访问本机 8091 端口的请求转发到 8090端口")]),s._v("\n$ iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" nat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v(" PREROUTING "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dport")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8091")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" REDIRECT --to-ports "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8090")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-- 把访问本机 8093 端口的请求转发到 192.168.1.3 的 8090端口")]),s._v("\n$ iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" nat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v(" PREROUTING "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" eth0 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dport")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8093")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" DNAT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--to")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.3:8090\n")])])]),t("h2",{attrs:{id:"定时执行脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定时执行脚本"}},[s._v("#")]),s._v(" 定时执行脚本")]),s._v(" "),t("p",[s._v("crontab可以在指定的时间执行一个shell脚本以及一系列Linux命令")]),s._v(" "),t("p",[s._v("常用于定时备份数据库、日志等")]),s._v(" "),t("p",[s._v("常用命令")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##修改crontab文件，")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##显示crontab文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##删除crontab文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ir")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##删除crontab文件之前提醒用户")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" crond status\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" crond start\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" crond stop\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" crond restart\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" crond reload\n")])])]),t("p",[s._v("基本格式")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("* * * * * "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#分 时 日 月 周 + 命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" * * * "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" ./a.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 每天0点10分执行命令")]),s._v("\n")])])]),t("h2",{attrs:{id:"apache"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#apache"}},[s._v("#")]),s._v(" Apache")]),s._v(" "),t("p",[s._v("apache在linux下的文件是httpd，centos自带apache,文件目录为cd/etc/init.d")]),s._v(" "),t("p",[s._v("启动apache服务")]),s._v(" "),t("div",{staticClass:"language-centos extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("service httpd start\nservice httpd restart\nservice httpd stop\n")])])]),t("h2",{attrs:{id:"部署项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署项目"}},[s._v("#")]),s._v(" 部署项目")]),s._v(" "),t("h3",{attrs:{id:"react"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#react"}},[s._v("#")]),s._v(" react")]),s._v(" "),t("p",[s._v("system limit for number of file watchers reached")]),s._v(" "),t("p",[s._v("文件监控数量超过了系统限制，直接修改系统参数")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/sys/fs/inotify/max_user_matches\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##8192")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sysctl.conf\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 添加语句 fs.inotify.max_user_watches=524288")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/sys/fs/inotify/max_user_matches\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##524288")]),s._v("\n")])])]),t("h3",{attrs:{id:"node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[s._v("#")]),s._v(" Node")]),s._v(" "),t("p",[s._v("运行命令")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 14.*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sL")]),s._v(" https://rpm.nodesource.com/setup_14.x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 12.*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sL")]),s._v(" https://rpm.nodesource.com/setup_12.x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -\n\nyum "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nodejs\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 安装gcc插件")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc-c++ cmake\n")])])]),t("h2",{attrs:{id:"服务器翻墙github太慢问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器翻墙github太慢问题"}},[s._v("#")]),s._v(" 服务器翻墙GitHub太慢问题")]),s._v(" "),t("p",[s._v("使用代理网址https://github.com.cnpmjs.org/")]),s._v(" "),t("h2",{attrs:{id:"linux端口无法访问问题排查"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux端口无法访问问题排查"}},[s._v("#")]),s._v(" linux端口无法访问问题排查")]),s._v(" "),t("p",[s._v("1.确认服务器的项目部署成功")]),s._v(" "),t("p",[s._v("2.确认访问地址是否存在。访问地址和端口是否正常。")]),s._v(" "),t("p",[s._v("3.确定服务器安全规则是否添加了要访问的端口。在控制台检查安全规则。")]),s._v(" "),t("p",[s._v("4.连接服务器的用户。一般服务器有root管理员，和其他个人创建用户。")]),s._v(" "),t("p",[s._v("5.服务器防火墙问题。服务器一般配置80端口为开放端口，在外网访问服务器80端口")]),s._v(" "),t("p",[s._v("使用telnet判断端口是否可以访问")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("telnet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("47.49")]),s._v(".182.93:7001\n")])])]),t("p"),s._v(" "),t("h2",{attrs:{id:"docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[s._v("#")]),s._v(" docker")]),s._v(" "),t("p",[s._v("Docker作为容器管理的平台，早已在服务部署等领域有非常广泛的应用。容器是轻量级的虚拟化方案，依托于overlayfs、Linux下的namespace、cgroups等OS级别的虚拟化技术，性能相比于基于VM的虚拟化更加突出。")]),s._v(" "),t("p",[s._v("更重要的是，通过Docker安装和配置软件更加方便")]),s._v(" "),t("p",[s._v("移除可能有旧的Docker版本")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum erase "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" docker-common docker-engine\n")])])]),t("p",[s._v("安装工具包和依赖，设置仓库源")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum install -y yum-utils device-mapper-persistent-data lvm2\nyum-config-manager \\ \n    --add-repo \\\n    https://download.docker.com/linux/centos/docker-ce.repo\n")])])]),t("p",[s._v("使用yum安装docker-ce")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("##最新稳定版\nyum install docker-ce docker-ce-cli containerd.io\n##指定版本\nyum install docker-ce-18.09.6 docker-ce-cli-18.09.6 containerd.io\n")])])]),t("p",[s._v("启动docker服务")]),s._v(" "),t("div",{staticClass:"language-centos extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl start docker\n")])])]),t("p",[s._v("检查docker的信息和版本")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" version\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" info\n")])])]),t("p",[s._v("验证docker，通过下载镜像和创建容器来看看Docker是否可以运转起来。可以使用下面的命令从Docker的镜像仓库下载名为hello-world的镜像文件。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull hello-world\n")])])]),t("p",[s._v("docker安装容器")]),s._v(" "),t("div",{staticClass:"language-dockerfile extra-class"},[t("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[t("code",[s._v("docker pull gitlab/gitlab-ce\n")])])]),t("p",[s._v("如果docker拉取较慢更换docker源，docker默认为docker国内镜像，可以腾讯源、中科大源或者dcloud")]),s._v(" "),t("p",[s._v("启动容器")]),s._v(" "),t("div",{staticClass:"language-dockerfile extra-class"},[t("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[t("code",[s._v("docker run \n")])])]),t("p",[s._v("查看容器")]),s._v(" "),t("h2",{attrs:{id:"v2ray"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#v2ray"}},[s._v("#")]),s._v(" V2ray")]),s._v(" "),t("p",[s._v("一键安装脚本")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash <(curl -s -L https://git.io/v2ray.sh)\n")])])]),t("p",[s._v("运行后自动安装，安装过程中：")]),s._v(" "),t("p",[s._v("输入1进行安装")]),s._v(" "),t("p",[s._v("选择tcp协议（默认）")]),s._v(" "),t("p",[s._v("选择端口号：为了不和别的软件冲突，推荐使用10000以上不超过65535的端口号，我选的10086")]),s._v(" "),t("p",[s._v("广告拦截：是否开启广告拦截，推荐不要开启，开启广告拦截会消耗服务器资源，且国外环境略由于国内环境")]),s._v(" "),t("p",[s._v("配置shadowsocks：选择开启，后面使用游戏加速器会用上")]),s._v(" "),t("p",[s._v("选择shadowsocks端口号：随意，不要和上面v2ray一样，我选2333")]),s._v(" "),t("p",[s._v("ss连接密码：123456")]),s._v(" "),t("p",[s._v("ss加密协议：选择默认")]),s._v(" "),t("p",[s._v("然后继续回车，直到安装完毕")]),s._v(" "),t("p",[s._v("开启BBR加速：google BBR是一款免费开源的TCP拥塞控制传输协议，可以使linux服务器显著提高吞吐量和减少TCP连接的延迟")]),s._v(" "),t("p",[s._v("修改系统变量")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('echo "net.core.default_qdisc=fq" >> /etc/sysctl.conf\necho "net.ipv4.tcp_congestion_control=bbr" >>/etc/sysctl.conf\n')])])]),t("p",[s._v("保存生效")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sysctl -p\n")])])]),t("p",[s._v("检查BBR是否开启")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sysctl net.ipv4.tcp_available_congestion_control\n")])])]),t("p",[s._v("返回变量==bbr则说明开启成功")]),s._v(" "),t("p",[s._v("检查BBR是否启动成功")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("lsmod | grep bbr\n")])])]),t("p",[s._v("如果返回tcp_bar 20480说明启动成功")]),s._v(" "),t("h3",{attrs:{id:"客户端使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户端使用"}},[s._v("#")]),s._v(" 客户端使用")]),s._v(" "),t("p",[s._v("windows客户端使用v2rayN")]),s._v(" "),t("p",[s._v("​       在服务器端输入v2ray url，复制vmess链接")]),s._v(" "),t("p",[s._v("​      下载v2rayN软件，打开软件点击服务器，点击从剪贴板批量导入url")]),s._v(" "),t("p",[s._v("​      右键点击刚刚导入的服务器，测试服务器延迟，表示连接成功")]),s._v(" "),t("p",[s._v("​      在小图标点击右键，选择pcahttp代理模式，表示只有被墙的网站才会启用代理，全局模式是所有链接都走代理")]),s._v(" "),t("p",[s._v("mac端使用v2rayU")]),s._v(" "),t("p",[s._v("ios端使用shadowsocks扫描")]),s._v(" "),t("p",[s._v("Android端使用v2rayNG")]),s._v(" "),t("p",[s._v("在服务器端输入")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("v2ray qr\n")])])]),t("p",[s._v("打开二维码链接，然后在手机上下载v2rayNG，打开客户端用扫一扫扫描二维码就能添加到节点")]),s._v(" "),t("p",[s._v("路由器端")]),s._v(" "),t("p",[s._v("在服务器段输入")]),s._v(" "),t("div",{staticClass:"language-linux extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("v2ray url\n")])])]),t("p",[s._v("复制链接，代开路由器端openwrt，勾选代理开关，点击服务器列表，在通过vmess链接添加节点处粘贴刚刚复制的链接")]),s._v(" "),t("p",[s._v("然后点击账号设置，代理模式选择gtwlist模式，服务器选择刚刚添加的服务器，点击提交就完成")]),s._v(" "),t("p",[s._v("https://noobyy.com/31.html")]),s._v(" "),t("h2",{attrs:{id:"nextcloud个人网盘服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nextcloud个人网盘服务器"}},[s._v("#")]),s._v(" Nextcloud个人网盘服务器")])])}),[],!1,null,null,null);a.default=r.exports}}]);